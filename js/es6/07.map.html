<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array Map</title>
    <script>
      /*
    배열의 값들을 map으로 호출해서 새로운 배열로 생성
    중요한 것은 원본의 값을 건들지 않는다.
    한번만 실행하고 빈 요소로 받는건 실행하지 않는다(호출할 값이 있어야 한다.)
    
    */

      let number = [1, 2, 3, 4, 5]; // 기존의 배열
      let calcNum = number.map(Math.sqrt); // Math.sqrt 숫자를 제곱근 (루트)

      console.log(number);
      console.log(calcNum);
      //배열의 값을 객체화 해서 기존의 배열은 건들지 않고 새로운 배열에 값을 반환

      //잘못된 사용법
      //원본의 값을 바로 변경하는 것
      let number02 = [1, 2, 3, 4, 5];
      number02.map((el, idx) => {
        //매개밴수는 element(객체), index(순번) element 는 el, item으로 index는 idx나 i라고 한다
        // element를 e라고 안하는 이유는 event의 e와 겹치기 때문
        number02[idx] = el * 2;
      });

      console.log(number02); // 원본의 배열이 변경됨
      //목적에 맞지 않는 사용법

      //잘못된 사용법 02
      //반환값을 무시하고 사용하는 경우
      /*
      return을 사용하는 것처럼 반환값을 호출하는 곳에서 사용하지 않거나
      저장하지 않고 사용하는 것을 의미
      map() 메서드에서는 배열의 각 요소에 대해 주어진 함수를 실행하고 그 결과물을 모아서
      새로운 배열을 만들어 내는게 목적인데 여기서 반환되는 값이 새로운 배열에 대한 값이
      되기 때문이다. 만약 반환되는 값이 없거나 실제로 활용하지 않는다면 오류가 날 수 있다.
      */

      let number03 = [1, 2, 3, 4, 5];
      let number04 = number03.map((el) => {
        console.log(el * 2);
        //값을 반환하지 않고 바로 변경했기 때문에 number04 에서는 undefined가 생성된다.
        //이런 경우 forEach를 사용하는 것이 적절
      });

      console.log(number04);

      //case03 return을 사용했는데 undefined가 나오는 경우
      let number05 = [1, 2, 3, 4, 5];
      let double = number05.map((el) => {
        if (el % 2 === 0) {
          return el * 2;
        }
        return el;
      });

      console.log(double);

      //객체 안에서 값을 출력 후 배열로 변환
      let lolPosition = [
        { position: "원딜", heroName: "케이틀린" },
        { position: "원딜1", heroName: "케이틀린1" },
        { position: "원딜2", heroName: "케이틀린2" },
        { position: "원딜3", heroName: "케이틀린3" },
        { position: "원딜4", heroName: "케이틀린4" },
      ];

      let getHero = (el) => {
        return [el.position, el.heroName].join();
      };
      //join() = 배열을 문자열로 변환하는 메서드
      let newHero = lolPosition.map(getHero);
      console.log(newHero);
    </script>
  </head>
  <body></body>
</html>
